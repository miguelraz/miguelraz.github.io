<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <!--<link rel=stylesheet  href="/libs/highlight/github.min.css"> --> <link rel=stylesheet  href="/libs/highlight/styles/atom-one-dark.css"> <script src="libs/clipboard.min.js"></script> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=icon  href="/assets/favicon.ico" type="image/x-icon"> <title>🚧 WIP 🚧 From Julia to LLVM C++ and C internals</title> <header> <div class=blog-name ><a href="">PathToPerformance</a></div> <nav> <ul> <li><a href="/">Welcome! 👋🏾</a> <li><a href="/diary/">Diary📒</a> <li><a href="/blog/">Blog💭</a> <li><a href="/pubs/">Publications 📓 /Talks🗣️ /Videos🎥 </a> <li><a href="/teaching/">Teaching🎓/Translations🗺️</a> <li><a href="/about/">CV💃</a> <script src="/libs/clipboard.js"></script> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h3 id=things_i_wish_id_known_from_the_start ><a href="#things_i_wish_id_known_from_the_start" class=header-anchor >Things I wish I&#39;d known from the start:</a></h3> <ul> <li><p>Julia&#39;s C&#43;&#43; is &quot;comically unidiomatic&quot;, as said by Stefan Karpinski. Specifically, you do NOT have to worry about anything resembling</p> </ul> <ol> <li><p>template metaprogramming</p> <li><p>fancy containers</p> <li><p>move semantics</p> <li><p>gnarly object oriented shenanigans like inheritance and the like</p> </ol> <h3 id=greppin_around ><a href="#greppin_around" class=header-anchor >Greppin&#39; around:</a></h3> <ul> <li><p>To find a <code>struct</code> try: <code>grep &quot;&#125; jl_binding_t;&quot;</code>.</p> </ul> <p>We basically just call the C&#43;&#43; API with a few range based for loops and lambdas sprinkled here and there. Let&#39;s show some examples.</p> <ul> <li><p><code>clang</code> and <code>clangd</code> are NOT the same thing, nor are they bundled together. <code>clangd</code> is closer to <code>clippy</code> and it does not come preinstalled.</p> <li><p><code>libstdc&#43;&#43;</code> and <code>libc&#43;&#43;</code> are the stdlibs pulled in by <code>gcc</code> and <code>clang</code>, respectively, make sure to update both of them before proceeding.</p> <li><p>If you want to compile a C&#43;&#43;20 &quot;Hello World like this one:</p> </ul> <pre><code class="cpp hljs"><span class=hljs-keyword >import</span> &lt;iostream&gt;
<span class=hljs-function ><span class=hljs-type >int</span> <span class=hljs-title >main</span><span class=hljs-params >()</span> </span>{
    std::cout &lt;&lt; <span class=hljs-string >&quot;hello world&quot;</span> &lt;&lt; std::endl;
}</code></pre> <ul> <li><p>I found the <code>cpp reference</code> and <code>clangd</code> extensions for VSCode to be crucial in navigating C&#43;&#43;.</p> </ul> <p>You should pass in the flags <code>clang&#43;&#43; -std&#61;c&#43;&#43;20 test.cpp -o test</code>.</p> <div class=page-foot > <div class=copyright > &copy; . Last modified: March 20, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "efaaeb52e1314322a75ffd9edd8d1566"}'></script> </div> </div> </div> <script> (function(){ // Get the elements. // - the 'pre' element. // - the 'div' with the 'paste-content' id. var pre = document.getElementsByTagName('pre'); // Add a copy button in the 'pre' element. // which only has the className of 'language-'. for (var i = 0; i < pre.length; i++) { var isLanguage = pre[i].children[0].className.indexOf('language-'); if ( isLanguage === 0 ) { var button = document.createElement('button'); button.className = 'copy-button'; button.textContent = 'Copy'; pre[i].appendChild(button); } }; // Run Clipboard var copyCode = new Clipboard('.copy-button', { target: function(trigger) { return trigger.previousElementSibling; } }); // On success: // - Change the "Copy" text to "Copied". // - Swap it to "Copy" in 2s. // - Lead user to the "contenteditable" area with Velocity scroll. copyCode.on('success', function(event) { event.clearSelection(); event.trigger.textContent = 'Copied'; window.setTimeout(function() { event.trigger.textContent = 'Copy'; }, 2000); }); // On error (Safari): // - Change the "Press Ctrl+C to copy" // - Swap it to "Copy" in 2s. copyCode.on('error', function(event) { event.trigger.textContent = 'Press "Ctrl + C" to copy'; window.setTimeout(function() { event.trigger.textContent = 'Copy'; }, 5000); }); })(); </script> <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "efaaeb52e1314322a75ffd9edd8d1566"}'></script>